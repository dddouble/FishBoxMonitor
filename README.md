# FishBoxMonitor
养鱼两年后，渐渐摸索养鱼的各项指标数据化，鱼缸各项指标监控，医学生，门外汉，学习软硬件集成，系统监控。


# Heading level 1
🐠 智能鱼缸环境监控系统（基于 ESP32）
📘 项目简介

本项目是一套基于 ESP32 的智能鱼缸环境监控系统，用于实时采集和展示鱼缸内外的关键环境数据，包括水温、空气温湿度、水位与光照强度等。系统通过 OLED 屏幕本地显示实时数据，并通过 Wi-Fi 建立网页端控制面板，支持远程查看、校准温度与在线固件升级（Web OTA）。本系统适用于家庭观赏鱼缸、热带鱼缸、水产养殖等场景，助力实现精准化、智能化养殖管理。
📋 功能需求清单
1. 🧪 环境传感器支持

    水温监测

        接入 4 个 DS18B20 数字温度传感器

        支持单独识别与数据校准

    空气温湿度监测

        使用 DHT11 获取鱼缸周围的温度与湿度

    水位监测

        读取模拟水位传感器（analogRead），判断水位高度

    光照监测

        读取光敏电阻值，反映环境光强（analogRead）

2. 📺 本地 OLED 显示

    使用 SSD1306 OLED 屏（128×64 I2C）

    每 2 秒刷新一次显示内容：

        所有 DS18B20 水温（含原始值和校准值）

        DHT11 温湿度

        水位数值

        光照强度

        当前时间（通过 NTP 获取）

    自动右下角显示北京时间（时:分）

3. 🌐 无线网络与网页功能

    Wi-Fi 配网

        首次启动通过 WiFiManager 自动进入 AP 模式，支持手机配网

    Web 控制面板

        查看实时传感器数据（表格形式）

        一键 DS18B20 水温校准（以平均值自动调整）

        Web OTA 固件上传与在线升级

    网页接口

        /temperatures：原始与校准后数据（JSON 格式）

        /json：结构化数据输出，便于接入平台如 Home Assistant

4. 💾 配置与数据持久化

    使用 ESP32 NVS（Preferences）存储每个传感器的校准偏移值

    每次上电自动恢复校准参数，无需手动重新设置

5. ⏱️ 时间同步与刷新机制

    使用 NTP 客户端定期从网络同步时间（北京时间 UTC+8）

    每分钟自动同步一次时间，确保显示准确

    每 2 秒刷新传感器数据并更新 OLED 显示

📦 可扩展建议（未来可选）

    🧠 加入自动控制模块（加热器、水泵、灯光等）

    📲 接入手机通知平台（如微信、邮件、MQTT）

    ☁️ 数据上传至云平台（如 ThingSpeak、Blynk、阿里云 IoT）

    📈 添加历史数据存储与图表展示
